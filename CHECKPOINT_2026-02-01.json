{
  "checkpoint_version": "1.0.1",
  "checkpoint_date": "2026-02-01T23:45:00Z",
  "assessed_by": "Claude AI Architect",
  "greptile_integration": "GOLD",
  
  "scoring_tiers": {
    "SAFEGUARD": { "min": 95, "description": "Production-ready, minimal risk" },
    "ADOPT": { "min": 80, "max": 94, "description": "Acceptable with action items" },
    "EVALUATE": { "min": 60, "max": 79, "description": "Conditional use" },
    "REJECT": { "max": 59, "description": "Not recommended" }
  },
  
  "repositories": {
    "zonewise-v2": {
      "url": "https://github.com/breverdbidder/zonewise-v2",
      "type": "Web SaaS",
      "framework": "React + Vite + Express + tRPC",
      "security_score": 82,
      "code_quality_score": 88,
      "combined_score": 85,
      "status": "ADOPT",
      "gap_to_safeguard": 10,
      "critical_issues": [
        {
          "id": "SEC-001",
          "severity": "CRITICAL",
          "impact": "-8 points",
          "title": "Hardcoded Supabase Credentials",
          "file": "server/supabase.ts",
          "remediation": "Remove fallback values, add startup validation"
        },
        {
          "id": "SEC-002",
          "severity": "HIGH",
          "impact": "-5 points",
          "title": "Missing Rate Limiting",
          "affected": "All tRPC endpoints",
          "remediation": "Implement express-rate-limit"
        },
        {
          "id": "CQ-001",
          "severity": "MEDIUM",
          "impact": "-3 points",
          "title": "Low Test Coverage",
          "current": "~30%",
          "target": "80%",
          "remediation": "Add unit tests for KPI engine and API routes"
        },
        {
          "id": "CQ-002",
          "severity": "MEDIUM",
          "impact": "-2 points",
          "title": "Limited Documentation",
          "remediation": "Add JSDoc to public functions, create API docs"
        }
      ],
      "path_to_safeguard": [
        { "action": "Fix SEC-001 (credentials)", "points": "+8", "deadline": "Feb 3" },
        { "action": "Implement rate limiting", "points": "+3", "deadline": "Feb 8" },
        { "action": "Add test coverage to 80%", "points": "+2", "deadline": "Feb 15" }
      ]
    },
    "zonewise-desktop": {
      "url": "https://github.com/breverdbidder/zonewise-desktop",
      "type": "Desktop (Electron)",
      "framework": "Electron + React + Bun",
      "base": "Craft Agents OSS v0.3.1",
      "security_score": 91,
      "code_quality_score": 94,
      "combined_score": 92.5,
      "status": "ADOPT",
      "gap_to_safeguard": 2.5,
      "issues": [
        {
          "id": "SEC-003",
          "severity": "MEDIUM",
          "impact": "-3 points",
          "title": "OAuth Secrets in Environment",
          "remediation": "Use OS keychain for OAuth secrets"
        },
        {
          "id": "CQ-003",
          "severity": "LOW",
          "impact": "-2 points",
          "title": "ZoneWise-specific test coverage",
          "current": "~70%",
          "target": "90%",
          "remediation": "Add tests for 3D components and GIS utilities"
        },
        {
          "id": "CQ-004",
          "severity": "LOW",
          "impact": "-1.5 points",
          "title": "Python agent test coverage",
          "current": "~60%",
          "target": "85%",
          "remediation": "Add pytest tests for LangGraph workflow"
        }
      ],
      "path_to_safeguard": [
        { "action": "Implement OS keychain for secrets", "points": "+2", "deadline": "Feb 8" },
        { "action": "Add ZoneWise component tests", "points": "+1", "deadline": "Feb 15" },
        { "action": "Add Python agent tests", "points": "+0.5", "deadline": "Feb 15" }
      ]
    }
  },
  
  "sync_status": {
    "last_sync": "2026-02-01T23:15:00Z",
    "files_synced_v2_to_desktop": 60,
    "files_synced_desktop_to_v2": 33,
    "feature_parity": true,
    "drift_detected": false
  },
  
  "action_items": [
    {
      "priority": "CRITICAL",
      "task": "Remove hardcoded Supabase credentials",
      "repo": "zonewise-v2",
      "impact": "+8 security points",
      "deadline": "2026-02-03"
    },
    {
      "priority": "HIGH",
      "task": "Implement rate limiting",
      "repo": "zonewise-v2",
      "impact": "+3 security points",
      "deadline": "2026-02-08"
    },
    {
      "priority": "HIGH",
      "task": "Implement OS keychain for OAuth",
      "repo": "zonewise-desktop",
      "impact": "+2 security points",
      "deadline": "2026-02-08"
    },
    {
      "priority": "MEDIUM",
      "task": "Increase test coverage to 80%",
      "repo": "zonewise-v2",
      "impact": "+2 code quality points",
      "deadline": "2026-02-15"
    },
    {
      "priority": "MEDIUM",
      "task": "Add ZoneWise component tests",
      "repo": "zonewise-desktop",
      "impact": "+1 code quality points",
      "deadline": "2026-02-15"
    }
  ],
  
  "projected_scores_after_remediation": {
    "zonewise-v2": {
      "security": 93,
      "code_quality": 92,
      "combined": 92.5,
      "status": "ADOPT (close to SAFEGUARD)"
    },
    "zonewise-desktop": {
      "security": 95,
      "code_quality": 96,
      "combined": 95.5,
      "status": "SAFEGUARD"
    }
  },
  
  "next_review": "2026-03-01",
  "review_frequency": "monthly"
}
